(function(e){function t(t){for(var n,i,s=t[0],o=t[1],c=t[2],p=0,l=[];p<s.length;p++)i=s[p],r[i]&&l.push(r[i][0]),r[i]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);u&&u(t);while(l.length)l.shift()();return a.push.apply(a,c||[]),f()}function f(){for(var e,t=0;t<a.length;t++){for(var f=a[t],n=!0,s=1;s<f.length;s++){var o=f[s];0!==r[o]&&(n=!1)}n&&(a.splice(t--,1),e=i(i.s=f[0]))}return e}var n={},r={1:0},a=[];function i(t){if(n[t])return n[t].exports;var f=n[t]={i:t,l:!1,exports:{}};return e[t].call(f.exports,f,f.exports,i),f.l=!0,f.exports}i.m=e,i.c=n,i.d=function(e,t,f){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:f})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var f=Object.create(null);if(i.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(f,n,function(t){return e[t]}.bind(null,n));return f},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/open-knowledge/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],o=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=o;a.push([15,0]),f()})({"+QvC":function(e,t,f){var n={"./N3Lexer":"mt2L","./N3Lexer.js":"mt2L","./N3Parser":"w+iJ","./N3Parser.js":"w+iJ","./N3Store":"FUT2","./N3Store.js":"FUT2","./N3StreamParser":"cKag","./N3StreamParser.js":"cKag","./N3StreamWriter":"gZ9L","./N3StreamWriter.js":"gZ9L","./N3Util":"j3Tw","./N3Util.js":"j3Tw","./N3Writer":"ARAd","./N3Writer.js":"ARAd"};function r(e){var t=a(e);return f(t)}function a(e){var t=n[e];if(!(t+1)){var f=new Error("Cannot find module '"+e+"'");throw f.code="MODULE_NOT_FOUND",f}return t}r.keys=function(){return Object.keys(n)},r.resolve=a,e.exports=r,r.id="+QvC"},0:function(e,t){},1:function(e,t){},10:function(e,t){},11:function(e,t){},15:function(e,t,f){e.exports=f("Vtdi")},2:function(e,t){},3:function(e,t){},4:function(e,t){},5:function(e,t){},6:function(e,t){},7:function(e,t){},8:function(e,t){},9:function(e,t){},EDI0:function(e,t,f){},Vtdi:function(e,t,f){"use strict";f.r(t);var n=f("Kw5r"),r=f("jE9Z"),a=f("XJYT"),i=f.n(a),s=(f("D66Q"),function(){var e=this,t=e.$createElement,f=e._self._c||t;return f("div",{attrs:{id:"app"}},[f("NavBar"),f("br"),f("router-view")],1)}),o=[],c=function(){var e=this,t=e.$createElement,f=e._self._c||t;return f("el-menu",{attrs:{"default-active":e.activeIndex,mode:"horizontal",router:!0}},[f("el-menu-item",{attrs:{index:"/query"}},[e._v("Query")]),f("el-menu-item",{attrs:{index:"/publish"}},[e._v("Publish")]),f("el-menu-item",{attrs:{index:"/graph"}},[e._v("Graph")])],1)},u=[],p={data:function(){return{activeIndex:this.$route.path}}},l=p,d=f("KHd+"),y=Object(d["a"])(l,c,u,!1,null,null,null),b=y.exports,h={name:"App",data:function(){return{ok:null}},components:{NavBar:b}},m=h,g=(f("ZL7j"),Object(d["a"])(m,s,o,!1,null,null,null)),_=g.exports,v=function(){var e=this,t=e.$createElement,f=e._self._c||t;return f("div",{attrs:{id:"#query-page"}},[f("el-row",{attrs:{type:"flex",justify:"center"}},[f("el-col",{attrs:{span:16}},[f("Query",{on:{"query-submit":e.onQuerySubmit}})],1)],1),f("el-row",{attrs:{type:"flex",justify:"center"}},[f("el-col",{attrs:{span:16}},[f("QueryRes",{attrs:{items:e.res}})],1)],1)],1)},w=[],T=function(){var e=this,t=e.$createElement,f=e._self._c||t;return f("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[f("el-form-item",{attrs:{label:"Query"}},[f("el-input",{staticStyle:{height:"200px"},attrs:{type:"textarea"},model:{value:e.form.query,callback:function(t){e.$set(e.form,"query",t)},expression:"form.query"}})],1),f("el-form-item",[f("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("Search")])],1)],1)},x=[];let D="PREFIX dbr: <http://dbpedia.org/resource/>\nPREFIX dbo: <http://dbpedia.org/ontology/>\nSELECT *\nFROM <openknowledge:default>\n{\n  <http://dbpedia.org/resource/Lucky_Starr_and_the_Big_Sun_of_Mercury> <http://dbpedia.org/ontology/author> ?o.\n  ?s <http://dbpedia.org/ontology/influenced> ?o\n} LIMIT 15\n";var S={name:"Query",data(){return{form:{query:D}}},methods:{onSubmit(e){this.$emit("query-submit",this.form.query)}}},k=S,I=(f("gZZf"),Object(d["a"])(k,T,x,!1,null,null,null)),M=I.exports,$=function(){var e=this,t=e.$createElement,f=e._self._c||t;return f("el-table",{attrs:{data:e.items,stripe:""}},[f("el-table-column",{attrs:{prop:"?s",label:"Subject"}}),f("el-table-column",{attrs:{prop:"?p",label:"Predicate"}}),f("el-table-column",{attrs:{prop:"?o",label:"Object"}})],1)},V=[],C=function(){var e=this,t=e.$createElement,f=e._self._c||t;return f("li",[e._v(e._s(e.text))])},E=[],j={name:"QueryResItem",props:["item"],computed:{text:function(){return`<${this.item["?s"]}>`}}},G=j,L=Object(d["a"])(G,C,E,!1,null,null,null),P=L.exports,R={name:"QueryRes",props:["items"],components:{QueryResItem:P}},N=R,q=Object(d["a"])(N,$,V,!1,null,null,null),B=q.exports;let O=[];var U={props:["ok"],data:function(){return{query:"",res:O}},components:{Query:M,QueryRes:B},methods:{onQuerySubmit:async function(e){this.res=await this.ok.execute(e)}}},F=U,A=Object(d["a"])(F,v,w,!1,null,null,null),Q=A.exports,H=function(){var e=this,t=e.$createElement,f=e._self._c||t;return f("div",{attrs:{id:"publishPage"}},[f("el-row",{attrs:{type:"flex",justify:"center"}},[f("el-col",{attrs:{span:16}},[f("el-form",{ref:"publishForm",attrs:{model:e.form,"label-width":"120px"}},[f("el-form-item",{attrs:{label:"Graph"}},[f("el-input",{model:{value:e.form.graph,callback:function(t){e.$set(e.form,"graph",t)},expression:"form.graph"}})],1),f("el-form-item",{attrs:{label:"File"}},[f("el-input",{staticStyle:{height:"200px"},attrs:{type:"textarea"},model:{value:e.form.doc,callback:function(t){e.$set(e.form,"doc",t)},expression:"form.doc"}})],1),f("el-form-item",[f("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("Publish")])],1)],1)],1)],1)],1)},z=[],X=f("y75E"),Z=f.n(X),K={props:["ok"],data:function(){return{form:{graph:"default",doc:""}}},methods:{onSubmit:async function(){let e=[],t=10;const f=Z.a.Parser();f.parse(this.form.doc,async(f,n,r)=>{if(f)throw new Error(f);if(null!==n)e.push([n.subject.value,n.predicate.value,n.object.value]);else{console.log("Finished parsing quads, attemping batch insert"),t>=0&&(e=e.slice(0,5));let f=await this.ok.addTriples(e,this.form.graph);console.log("TX:",f)}})}}},W=K,J=Object(d["a"])(W,H,z,!1,null,null,null),Y=J.exports,ee=function(){var e=this,t=e.$createElement,f=e._self._c||t;return f("div",{attrs:{id:"graphPage"}},[f("el-row",{attrs:{type:"flex",justify:"center"}},[f("el-col",{attrs:{span:16}},[f("el-form",{ref:"graphForm",attrs:{model:e.form,"label-width":"120px"}},[f("el-form-item",{attrs:{label:"Name"}},[f("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),f("el-form-item",[f("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("Create")])],1)],1)],1)],1)],1)},te=[],fe={props:["ok"],data:function(){return{form:{name:""}}},methods:{onSubmit:async function(){await this.ok.newGraphManager(this.form.name)}}},ne=fe,re=Object(d["a"])(ne,ee,te,!1,null,null,null),ae=re.exports,ie=f("gBrQ"),se=f.n(ie),oe=f("YxRf"),ce=f.n(oe),ue=f("ksDE"),pe=f.n(ue),le=f("XaWT"),de=f.n(le),ye=f("nsO7"),be=f.n(ye),he=f("qCKU"),me=f.n(he),ge=f("2tcU"),_e=f.n(ge),ve=f("CafK"),we=f.n(ve),Te=f("/GOs"),xe=f.n(Te),De=f("tgXR"),Se=f.n(De),ke=f("B3Ab"),Ie=f.n(ke),Me=f("IhEH"),$e=f.n(Me),Ve=f("aq5/"),Ce=f.n(Ve),Ee=f("4Mt5"),je=f.n(Ee),Ge=f("VKUl"),Le=f.n(Ge),Pe=f("Rhu4"),Re=f.n(Pe),Ne=f("7xyS"),qe=f.n(Ne),Be=f("k2Qk"),Oe=f.n(Be),Ue=f("6awH"),Fe=f.n(Ue),Ae=f("XUND"),Qe=f.n(Ae),He=f("h2Gn"),ze=f.n(He),Xe=f("i/+k"),Ze=f("94ye"),Ke=/^https?:\/\/[^\/]+\/\.well-known\/genid\/([^]+)$/,We=new Ze.Util({});function Je(e,t,f){return t!==f.lastIndexOf(e)}function Ye(e,t,f){var n=e.replace(/[^a-z]/g,"").toUpperCase();We[n]=t,f&&f.forEach(function(e){We[n+"_"+e.toUpperCase()]=t+e})}We.decodedURIEquals=function(e,t){if(e===t)return!0;try{return decodeURI(e)===decodeURI(t)}catch(e){return!1}},We.deskolemize=function(e){return e&&e.replace(Ke,function(e,t){return"_:"+t.replace(/\W/g,"_")})},We.triple=function(e,t,f){return{subject:e,predicate:t,object:f}},We.toQuickString=function(e){if(!e)return"";if("string"===typeof e){if(We.isVariableOrBlank(e))return e;if(We.isLiteral(e))return'"'+We.getLiteralValue(e)+'"';var t=e.match(/([a-zA-Z\(\)_\.,'0-9]+)[^a-zAZ]*?$/);return t?t[1]:e}return We.toQuickString(e.subject)+" "+We.toQuickString(e.predicate)+" "+We.toQuickString(e.object)+"."},We.isVariable=function(e){return"string"!==typeof e||"?"===e[0]},We.hasVariables=function(e){return!!e&&(We.isVariable(e.subject)||We.isVariable(e.predicate)||We.isVariable(e.object))},We.getVariables=function(e){var t=[];return We.isVariable(e.subject)&&t.push(e.subject),We.isVariable(e.predicate)&&t.push(e.predicate),We.isVariable(e.object)&&t.push(e.object),t},We.isVariableOrBlank=function(e){return"string"!==typeof e||"?"===e[0]||"_"===e[0]&&":"===e[1]},We.hasVariablesOrBlanks=function(e){return!!e&&(We.isVariableOrBlank(e.subject)||We.isVariableOrBlank(e.predicate)||We.isVariableOrBlank(e.object))},We.tripleFilter=function(e){var t=e||{},f=We.isVariableOrBlank(t.subject)?null:t.subject,n=We.isVariableOrBlank(t.predicate)?null:t.predicate,r=We.isVariableOrBlank(t.object)?null:t.object;return function(e){return(null===f||f===e.subject)&&(null===n||n===e.predicate)&&(null===r||r===e.object)}},We.applyBindings=function(e,t){return"function"===typeof t.map?t.map(function(t){return We.applyBindings(e,t)}):{subject:e[t.subject]||t.subject,predicate:e[t.predicate]||t.predicate,object:e[t.object]||t.object}},We.findBindings=function(e,t){return We.extendBindings(null,e,t)},We.extendBindings=function(e,t,f){var n=de()(null);for(var r in e)n[r]=e[r];return We.addBinding(n,t.subject,f.subject),We.addBinding(n,t.predicate,f.predicate),We.addBinding(n,t.object,f.object),n},We.addBinding=function(e,t,f){if(We.isVariableOrBlank(f))throw new Error("Right-hand side must not be variable.");if(We.isVariableOrBlank(t))if(t in e){if(f!==e[t])throw new Error(["Cannot bind",t,"to",f,"because it was already bound to",e[t]+"."].join(" "))}else e[t]=f;else if(t!==f)throw new Error(["Cannot bind",t,"to",f].join(" "));return e},We.isBoundPatternOf=function(e,t){return(We.isVariable(t.subject)||t.subject===e.subject)&&(We.isVariable(t.predicate)||t.predicate===e.predicate)&&(We.isVariable(t.object)||t.object===e.object)},We.findConnectedPatterns=function(e){if(e.length<=1)return[e];var t,f=e.map(function(e){return{triples:[e],variables:be.a.values(e).filter(We.isVariableOrBlank)}});do{var n=be.a.flatten(be.a.map(f,"variables"));if(t=be.a.find(n,Je)){var r=be.a.groupBy(f,function(e){return be.a.includes(e.variables,t)});f=r.false||[],f.push({triples:be.a.union.apply(be.a,be.a.map(r.true,"triples")),variables:be.a.union.apply(be.a,be.a.map(r.true,"variables"))})}}while(t);return be.a.map(f,"triples")},Ye("rdf","http://www.w3.org/1999/02/22-rdf-syntax-ns#",["type","subject","predicate","object"]),Ye("void","http://rdfs.org/ns/void#",["triples"]),Ye("hydra","http://www.w3.org/ns/hydra/core#",["search","template","mapping","property","variable","totalItems"]),Ye("foaf","http://xmlns.com/foaf/0.1/"),Ye("dbpedia","http://dbpedia.org/resource/"),Ye("dbpedia-owl","http://dbpedia.org/ontology/"),pe()(We);var et=["EMERGENCY","ALERT","CRITICAL","ERROR","WARNING","NOTICE","INFO","DEBUG"];function tt(e){if(!(this instanceof tt))return new tt(e);this._name=e||""}tt.prototype.log=function(e,t){t=be.a.map(t,this._format,this),t.unshift("["+new Date+"]",e,this._name),this._print(t)},et.forEach(function(e){tt.prototype[e.toLowerCase()]=function(){this.log(e,arguments)}}),tt.prototype._format=function(e){return e?e instanceof Array?me()(e.map(this._format,this)):e.subject&&e.predicate&&e.object?We.toQuickString(e):"string"===typeof e?e:me()(e):""+e},tt.prototype._print=function(e){console.error.apply(console,e)},tt.prototype._printCSV=function(e){console.error(e.map(function(e){return/["\n\r,]/.test(e)?'"'+e.replace(/"/g,'""')+'"':e}).join(","))},tt.setLevel=function(e){var t=be.a.indexOf(et,e.toUpperCase());if(t>=0)while(++t<et.length)tt.prototype[et[t].toLowerCase()]=be.a.noop},tt.enabled=function(e){return e in tt.prototype&&tt.prototype[e]!==be.a.noop},tt.setMode=function(e){"CSV"===e.toUpperCase()&&(tt.prototype._print=tt.prototype._printCSV)};
/*! @license MIT ©2013-2016 Miel Vander Sande, Ghent University - imec */
var ft=f("MCLT"),nt=f("6awH"),rt=0,at=0;function it(e){if(!(this instanceof it))return new it(e);tt.call(this,e)}nt.prototype._uniqueId=function(){return this.__uniqueid||(this.__uniqueid=++rt),this.__uniqueid},ft.inherits(it,tt),it.prototype.logBinding=function(e,t,f,n){tt.enabled("debug")&&this.debug(++at,e._uniqueId(),t,f,n)},it.prototype.logFragment=function(e,t,f){if(tt.enabled("debug")){var n=this;t.getProperty("metadata",function(t){n.logBinding(e,f,e._pattern,t&&t.totalTriples)})}};
/*! @license MIT ©2014-2016 Ruben Verborgh, Ghent University - imec */
var st=f("6awH"),ot=st.MultiTransformIterator,ct=it("TriplePatternIterator");function ut(e,t,f){if(!(this instanceof ut))return new ut(e,t,f);ot.call(this,e,f),this._pattern=t,this._client=f&&f.fragmentsClient}ot.subclass(ut),ut.prototype._createTransformer=function(e,t){var f=this._pattern,n=We.applyBindings(e,f),r=this._client.getFragmentByPattern(n);return ct.logFragment(this,r,e),r.on("error",function(e){ct.warning(e.message)}),r.map(function(t){try{var n=We.extendBindings(e,f,t);return n}catch(e){return null}})},ut.prototype.toString=function(){return"["+this.constructor.name+" {"+We.toQuickString(this._pattern)+")}\n  <= "+this.getSourceString()};
/*! @license MIT ©2014-2016 Ruben Verborgh, Ghent University - imec */
var pt=f("6awH"),lt=pt.TransformIterator,dt=pt.MultiTransformIterator,yt=it("ReorderingGraphPatternIterator");function bt(e,t,f){return t&&t.length?1===t.length?new ut(e,t[0],f):this instanceof bt?(dt.call(this,e,f),this._pattern=t,this._options=f||(f={}),void(this._client=f.fragmentsClient)):new bt(e,t,f):new lt(e,f)}dt.subclass(bt),bt.prototype._createTransformer=function(e){var t,f=We.applyBindings(e,this._pattern),n=this._options,r=be.a.sortBy(We.findConnectedPatterns(f),function(e){var t=be.a.union.apply(be.a,e.map(We.getVariables)).length;return-(f.length*t+e.length)}),a=r.pop(),i=a.length;if(1===i)return c(a.pop());t=new lt;var s=0,o=1/0;return a.forEach(function(e,f){var n=this._client.getFragmentByPattern(e);n.getProperty("metadata",function(e){if(n.close(),!e.totalTriples)return t.close();e.totalTriples<o&&(s=f,o=e.totalTriples),0===--i&&(t.source=c(a.splice(s,1)[0]))}),n.on("error",function(e){yt.warning(e.message),n.getProperty("metadata")||n.setProperty("metadata",{totalTriples:0})})},this),t;function c(t){var f=pt.single(e),i=new ut(f,t,n);a&&0!==a.length&&(i=new bt(i,a,n));while(a=r.pop())i=new bt(i,a,n);return i}},bt.prototype.toString=function(){return"["+this.constructor.name+" {"+this._pattern.map(We.toQuickString).join(" ")+"}]\n  <= "+this.getSourceString()};
/*! @license MIT ©2014-2016 Ruben Verborgh, Ghent University - imec */
var ht=f("6awH").BufferedIterator;function mt(e,t){if(!(this instanceof mt))return new mt(e,t);if(ht.call(this,t),this._sources=[],this._sourceIndex=0,e&&e.length)for(var f=function(){r._fillBuffer()},n=function(e){r.emit("error",e)},r=this,a=0,i=e.length;a<i;a++){var s=e[a];s&&!s.ended&&(this._sources.push(s),s.on("readable",f),s.on("end",f),s.on("error",n))}}ht.subclass(mt),mt.prototype._read=function(e,t){var f=this._sources,n=null,r=f.length;while(null===n&&r--){var a=f[this._sourceIndex];n=a.read(),a.ended?f.splice(this._sourceIndex,1):this._sourceIndex++,this._sourceIndex>=f.length&&(this._sourceIndex=0)}null!==n&&this._push(n),f.length||this.close(),t()};
/*! @license MIT ©2014-2016 Ruben Verborgh, Ghent University - imec */
var gt=f("6awH").TransformIterator;function _t(e,t,f){if(!(this instanceof _t))return new _t(e,t,f);"function"!==typeof t&&(f=t,t=null),gt.call(this,e,f);var n=f&&f.window;this._windowLength=isFinite(n)&&n>0?~~n:1/0,this._sort=t||vt,this._sorted=[]}function vt(e,t){return e<t?-1:e>t?1:0}
/*! @license MIT ©2014-2016 Ruben Verborgh, Ghent University - imec */gt.subclass(_t),_t.prototype._read=function(e,t){var f,n=this._sorted,r=this._source,a=n.length;if(r){while(a!==this._windowLength&&null!==(f=r.read())){var i,s,o=0,c=a-1;while(o<=c)s=this._sort(f,n[i=o+c>>1]),s<0?o=i+1:s>0?c=i-1:(o=i,c=-1);n.splice(o,0,f),a++}a===this._windowLength&&this._push(n.pop())}t()},_t.prototype._flush=function(e){var t=this._sorted,f=t.length;while(f--)this._push(t.pop());e()};var wt=f("6awH").SimpleTransformIterator,Tt=f("HEbw");function xt(e,t){if(!(this instanceof xt))return new xt(e,t);wt.call(this,e,t),this._uniques=de()(null)}
/*! @license MIT ©2014-2016 Ruben Verborgh, Ghent University - imec */
function Dt(e,t){function f(f){this.name=e,Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=f,t&&t.apply(this,arguments)}return f.prototype=new Error,f.prototype.name=e,f.prototype.constructor=f,f}
/*! @license MIT ©2014-2016 Ruben Verborgh, Ghent University - imec */wt.subclass(xt),xt.prototype._filter=function(e){var t=this._uniques,f=this._hash(e);f in t||(t[f]=!0,this._push(e))},xt.prototype._hash=function(e){var t=Tt.createHash("sha1");return t.update(me()(e)),t.digest("base64")};var St,kt,It,Mt,$t,Vt=f("94ye").Util,Ct="http://www.w3.org/2001/XMLSchema#",Et=Ct+"integer",jt=Ct+"double",Gt=Ct+"boolean",Lt='"true"^^'+Gt,Pt='"false"^^'+Gt,Rt=Vt.isLiteral,Nt=Vt.getLiteralValue;function qt(e){if(!e)return Bt;var t=e&&e.type||("undefined"===typeof e?"undefined":_e()(e)),f=St[t];if(!f)throw new It(t);return f(e)}function Bt(){}qt.evaluate=function(e,t){return new qt(e)(t)},St={null:function(){return Bt},string:function(e){return"?"!==e[0]?function(){return e}:function(t){return t&&t[e]}},operation:function(e){var t=e.operator||e.function,f=kt[t];if(!f)throw new Mt(t);if(f.length!==e.args.length)throw new $t(t,e.args.length,f.length);if(f.acceptsExpressions)return function(e,t){return function(f){return e.apply(f,t)}}(f,e.args);for(var n=new Array(e.args.length),r=0;r<e.args.length;r++)n[r]=new qt(e.args[r]);return function(e,t){return function(f){for(var n=new Array(t.length),r=new Array(t.length),a=0;a<t.length;a++){var i=n[a]=r[a]=t[a](f);if(void 0===i)return;switch(e.type){case"numeric":n[a]=parseFloat(Nt(i));break;case"boolean":n[a]=i!==Pt&&(!Rt(i)||"0"!==Nt(i));break}}var s=e.apply(null,n);switch(e.resultType){case"numeric":var o=Vt.getLiteralType(r[0])||Et;return'"'+s+'"^^'+o;case"boolean":return s?Lt:Pt;default:return s}}}(f,n)}},St.functionCall=St.operation,kt={"+":function(e,t){return e+t},"-":function(e,t){return e-t},"*":function(e,t){return e*t},"/":function(e,t){return e/t},"=":function(e,t){return e===t},"!=":function(e,t){return e!==t},"<":function(e,t){return e<t},"<=":function(e,t){return e<=t},">":function(e,t){return e>t},">=":function(e,t){return e>=t},"!":function(e){return!e},"&&":function(e,t){return e&&t},"||":function(e,t){return e||t},lang:function(e){return'"'+Vt.getLiteralLanguage(e).toLowerCase()+'"'},langmatches:function(e,t){return e=e.toLowerCase(),t=t.toLowerCase(),e===t||"*"===(t=Nt(t))||e.substr(1,t.length+1)===t+"-"},contains:function(e,t){return t=Nt(t),e=Nt(e),e.indexOf(t)>=0},regex:function(e,t){return Rt(e)&&(e=Nt(e)),new RegExp(Nt(t)).test(e)},str:function(e){return Rt(e)?e:'"'+e+'"'},"http://www.w3.org/2001/XMLSchema#integer":function(e){return'"'+Math.floor(e)+'"^^http://www.w3.org/2001/XMLSchema#integer'},"http://www.w3.org/2001/XMLSchema#double":function(e){return e=e.toFixed(),e.indexOf(".")<0&&(e+=".0"),'"'+e+'"^^http://www.w3.org/2001/XMLSchema#double'},bound:function(e){if("?"!==e[0])throw new Error("BOUND expects a variable but got: "+e);return e in this?Lt:Pt}},["+","-","*","/","<","<=",">",">=",Et,jt].forEach(function(e){kt[e].type="numeric"}),["!","&&","||"].forEach(function(e){kt[e].type="boolean"}),["+","-","*","/"].forEach(function(e){kt[e].resultType="numeric"}),["!","&&","||","=","!=","<","<=",">",">=","langmatches","contains","regex"].forEach(function(e){kt[e].resultType="boolean"}),kt.bound.acceptsExpressions=!0,It=Dt("UnsupportedExpressionError",function(e){this.message="Unsupported expression type: "+e+"."}),Mt=Dt("UnsupportedExpressionError",function(e){this.message="Unsupported operator: "+e+"."}),$t=Dt("InvalidArgumentsNumberError",function(e,t,f){this.message="Invalid number of arguments for "+e+": "+t+" (expected: "+f+")."});
/*! @license MIT ©2014-2016 Ruben Verborgh, Ghent University - imec */
var Ot=f("i/+k").Parser,Ut=f("6awH"),Ft=Ut.TransformIterator,At=f("nsO7"),Qt={SELECT:zt,CONSTRUCT:Xt,DESCRIBE:Zt,ASK:Kt};function Ht(e,t,f){"function"!==typeof e.read&&(f=t,t=e,e=null),f=f||{},e=e||Ut.single({});try{"string"===typeof t&&(t=new Ot(f.prefixes).parse(t));var n,r=Qt[t.queryType];if(!r)throw new Error("No iterator available for query type: "+t.queryType);n=new r(null,t,f);for(var a=new Wt(e,n.patterns||t.where,f),i=t.order&&t.order.length-1;i>=0;i--){var s=new qt(t.order[i].expression),o=!t.order[i].descending;a=new _t(a,function(e,t){var f="",n="";try{f=s(e)}catch(e){}try{n=s(t)}catch(e){}return f<n?o?-1:1:f>n?o?1:-1:0},f)}return n.source=a,t.distinct&&(n=new xt(n,f)),("offset"in t||"limit"in t)&&(n=n.transform({offset:t.offset,limit:t.limit})),n.queryType=t.queryType,n}catch(e){throw e=/Parse error/.test(e.message)?new Yt(t,e):new ef(t,e),e}}function zt(e,t,f){Ft.call(this,e,f),this.setProperty("variables",t.variables)}function Xt(e,t,f){Ft.call(this,e,f),this._template=t.template.filter(function(e){return We.hasVariables(e)||this._push(e)},this),this._blankNodeId=0}function Zt(e,t,f){for(var n=t.variables,r=t.template=[],a=0,i=n.length;a<i;a++)r.push(We.triple(n[a],"?__predicate"+a,"?__object"+a));t.where=t.where.concat({type:"bgp",triples:r}),Xt.call(this,e,t,f)}function Kt(e,t,f){Ft.call(this,e,f),this._result=!1}function Wt(e,t,f){return t.reduce(function(e,t){return new Jt(e,t,f)},e)}function Jt(e,t,f){var n=f.optional?At.create(f,{optional:!1}):f;switch(t.type){case"bgp":return new bt(e,t.triples,f);case"group":return new Wt(e,t.patterns,n);case"optional":return n=At.create(f,{optional:!0}),new Wt(e,t.patterns,n);case"union":return new mt(t.patterns.map(function(t){return new Jt(e.clone(),t,n)}),f);case"filter":var r=new qt(t.expression);return e.filter(function(e){try{return!/^"false"|^"0"/.test(r(e))}catch(e){return!1}});default:throw new Error("Unsupported group type: "+t.type)}}Ft.subclass(Ht),Ht.subclass(zt),zt.prototype._transform=function(e,t){function f(t){var f=e[t];return"string"===typeof f?We.deskolemize(f):null}this._push(this.getProperty("variables").reduce(function(t,n){if("*"!==n)t[n]=f(n);else for(n in e)We.isVariable(n)&&(t[n]=f(n));return t},de()(null))),t()},Ht.subclass(Xt),Xt.prototype._transform=function(e,t){var f=de()(null);this._template.forEach(function(t){var n=t.subject,r=t.predicate,a=t.object,i=n[0],s=r[0],o=a[0];if("?"===i){if(void 0===(n=We.deskolemize(e[n])))return}else"_"===i&&(n=f[n]||(f[n]="_:b"+this._blankNodeId++));if("?"===s){if(void 0===(r=We.deskolemize(e[r])))return}else"_"===s&&(r=f[r]||(f[r]="_:b"+this._blankNodeId++));if("?"===o){if(void 0===(a=We.deskolemize(e[a])))return}else"_"===o&&(a=f[a]||(f[a]="_:b"+this._blankNodeId++));this._push({subject:n,predicate:r,object:a})},this),t()},Xt.subclass(Zt),Ht.subclass(Kt),Kt.prototype._transform=function(e,t){this._result=!0,this.close(),t()},Kt.prototype._flush=function(e){this._push(this._result),e()},Ut.subclass(Wt),Ut.subclass(Jt);var Yt=Dt("InvalidQueryError",function(e,t){this.message="Syntax error in query\n"+t.message}),ef=Dt("UnsupportedQueryError",function(e,t){this.message="The query is not yet supported\n"+t.message});Ht.InvalidQueryError=Yt,Ht.UnsupportedQueryError=ef;var tf=function(){function e(t,f){Ce()(this,e),this.ipfs=t,this.root=f,this.cache={},this.cacheSize=256}return je()(e,[{key:"get",value:function(){var e=$e()(Se.a.mark(function e(t){var f,n,r,a,i;return Se.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(f=this._cacheGet(t),n=Ie()(f,2),r=n[0],a=n[1],!a){e.next=3;break}return e.abrupt("return",r);case 3:return e.prev=3,e.next=6,this.ipfs.dag.get(t);case 6:return i=e.sent,this._cacheSet(t,i.value),e.abrupt("return",i.value);case 11:return e.prev=11,e.t0=e["catch"](3),e.abrupt("return",null);case 14:case"end":return e.stop()}},e,this,[[3,11]])}));function t(t){return e.apply(this,arguments)}return t}()},{key:"put",value:function(){var e=$e()(Se.a.mark(function e(t){return Se.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.ipfs.dag.put(t,{format:"dag-cbor",hashAlg:"sha2-256"});case 2:return e.abrupt("return",e.sent.toBaseEncodedString());case 3:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getState",value:function(){var e=$e()(Se.a.mark(function e(){var t,f,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.root;return Se.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.get(n);case 2:t=e.sent,e.t0=Se.a.keys(t);case 4:if((e.t1=e.t0()).done){e.next=12;break}if(f=e.t1.value,"object"!==_e()(t[f])){e.next=10;break}return e.next=9,this.getState(n+"/"+f);case 9:t[f]=e.sent;case 10:e.next=4;break;case 12:return e.abrupt("return",t);case 13:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"merge",value:function(){var e=$e()(Se.a.mark(function e(t,f){return Se.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(0!==xe()(f).length){e.next=2;break}return e.abrupt("return",null);case 2:return e.abrupt("return",this._traverse(t,f));case 3:case"end":return e.stop()}},e,this)}));function t(t,f){return e.apply(this,arguments)}return t}()},{key:"_traverse",value:function(){var e=$e()(Se.a.mark(function e(t,f){var n,r,a,i;return Se.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(0!==xe()(f).length){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,this.get(t);case 4:if(e.t0=e.sent,e.t0){e.next=7;break}e.t0={};case 7:n=e.t0,e.t1=Se.a.keys(f);case 9:if((e.t2=e.t1()).done){e.next=22;break}if(r=e.t2.value,"object"===_e()(f[r])){e.next=14;break}return n=we()({},n,f),e.abrupt("break",22);case 14:return e.next=16,this._traverse(t+"/"+r,f[r]);case 16:if(a=e.sent,null!==a){e.next=19;break}return e.abrupt("continue",9);case 19:n[r]={"/":a},e.next=9;break;case 22:return e.next=24,this.put(n);case 24:return i=e.sent,e.abrupt("return",i);case 26:case"end":return e.stop()}},e,this)}));function t(t,f){return e.apply(this,arguments)}return t}()},{key:"_cacheGet",value:function(e){return e in this.cache?[this.cache[e],!0]:[null,!1]}},{key:"_cacheSet",value:function(e,t){this.cache.length>=this.cacheSize&&(this.cache={}),this.cache[e]=t}}]),e}(),ff=function(){function e(t,f){Ce()(this,e),this.ipfs=t,this.root=f,this.dag=new tf(t,f)}return je()(e,[{key:"setRoot",value:function(e){this.root=e}},{key:"addTriples",value:function(){var e=$e()(Se.a.mark(function e(t){var f,n,r,a,i,s,o,c,u;return Se.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:f={spo:{},sop:{},pso:{},pos:{},osp:{},ops:{}},e.t0=Se.a.keys(t);case 2:if((e.t1=e.t0()).done){e.next=20;break}return n=e.t1.value,r=t[n],a=this._sanitizeTriple(r[0],r[1],r[2]),i=a.s,s=a.p,o=a.o,e.next=8,this.dag.get(this.root+"/spo/"+i+"/"+s);case 8:if(c=e.sent,!(null!==c&&o in c)){e.next=12;break}return console.log("triple exists, skipping"),e.abrupt("continue",2);case 12:this._addToDiff(f.spo,i,s,o),this._addToDiff(f.sop,i,o,s),this._addToDiff(f.pso,s,i,o),this._addToDiff(f.pos,s,o,i),this._addToDiff(f.osp,o,i,s),this._addToDiff(f.ops,o,s,i),e.next=2;break;case 20:return e.next=22,this.dag.merge(this.root,f);case 22:if(u=e.sent,null!==u){e.next=26;break}return console.log("merge failed"),e.abrupt("return",null);case 26:if(this.root!==u){e.next=29;break}return console.log("cid same as root"),e.abrupt("return",null);case 29:return e.abrupt("return",u);case 30:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getTriples",value:function(){var e=$e()(Se.a.mark(function e(t,f,n){var r,a,i,s,o,c,u,p,l,d,y=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,b=arguments.length>4&&void 0!==arguments[4]?arguments[4]:10;return Se.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:for(c in r=this._sanitizeTriple(t,f,n),t=r.s,f=r.p,n=r.o,a={s:t,p:f,o:n},i=[],s=[],o={},a)null===a[c]?i.push(c):(s.push(c),o[c]=a[c]);for(l in u=s.join("")+i.join(""),p=this.root+"/"+u,s)p+="/"+o[s[l]];return e.next=14,this._loopIndex(p,o,i);case 14:return d=e.sent,e.abrupt("return",d.slice(y,b));case 16:case"end":return e.stop()}},e,this)}));function t(t,f,n){return e.apply(this,arguments)}return t}()},{key:"_loopIndex",value:function(){var e=$e()(Se.a.mark(function e(t,f,n){var r,a,i,s,o,c;return Se.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(0!==n.length){e.next=2;break}return e.abrupt("return",[this._decodeTriple(f.s,f.p,f.o)]);case 2:return r=[],console.log("Getting index ",t),e.next=6,this.dag.get(t);case 6:if(a=e.sent,null!==a){e.next=10;break}return console.log("Index not found"),e.abrupt("return",r);case 10:i=xe()(a),i=be.a.sortBy(i),s=0;case 13:if(!(s<i.length)){e.next=22;break}return o=i[s],e.next=17,this._loopIndex(t+"/"+o,we()({},f,Le()({},n[0],o)),n.slice(1));case 17:c=e.sent,r=r.concat(c);case 19:s++,e.next=13;break;case 22:return e.abrupt("return",r);case 23:case"end":return e.stop()}},e,this)}));function t(t,f,n){return e.apply(this,arguments)}return t}()},{key:"_addToDiff",value:function(e,t,f,n){var r=e[t]||(e[t]={}),a=r[f]||(r[f]={});a[n]=!0}},{key:"_sanitizeTriple",value:function(e,t,f){return e="string"===typeof e?encodeURIComponent(e):e,t="string"===typeof t?encodeURIComponent(t):t,f="string"===typeof f?encodeURIComponent(f):f,{s:e,p:t,o:f}}},{key:"_decodeTriple",value:function(e,t,f){return e=decodeURIComponent(e),t=decodeURIComponent(t),f=decodeURIComponent(f),[e,t,f]}}]),e}(),nf=function(){function e(t){Ce()(this,e),this.store=t}return je()(e,[{key:"getFragmentByPattern",value:function(e){var t=new rf,f="?s"===e.subject?null:e.subject,n="?p"===e.predicate?null:e.predicate,r="?o"===e.object?null:e.object;return this.store.getTriples(f,n,r,"test").then(function(e){t.setProperty("metadata",{totalTriples:e.length});for(var f=0;f<e.length;f++){var n={subject:e[f][0],predicate:e[f][1],object:e[f][2]};t._push(n)}t.close()}),t}}]),e}(),rf=function(e){function t(){return Ce()(this,t),qe()(this,(t.__proto__||Re()(t)).apply(this,arguments))}return Oe()(t,e),t}(Fe.a.BufferedIterator),af=function(){function e(t,f,n){Ce()(this,e),this.ipfs=t,this.web3=f,this.contract=n,this.rootUpdatedSub=null}return je()(e,[{key:"init",value:function(){var e=$e()(Se.a.mark(function e(){var t,f=this;return Se.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._fetchRoot();case 2:t=e.sent,this.store=new ff(this.ipfs,t),this.rootUpdatedSub=this.contract.events.RootUpdated(),this.rootUpdatedSub.on("data",function(e){f.store.setRoot(f._rootCIDFromHex(e.returnValues.root))});case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"addTriples",value:function(){var e=$e()(Se.a.mark(function e(t){var f,n,r,a,i;return Se.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.web3.eth.getCoinbase();case 2:return f=e.sent,e.next=5,this.contract.methods.owner().call();case 5:if(n=e.sent,f.toLowerCase()===n.toLowerCase()){e.next=9;break}return console.log("Coinbase account does not own GraphManager contract"),e.abrupt("return",null);case 9:return e.next=11,this.store.addTriples(t);case 11:if(r=e.sent,null!==r){e.next=14;break}return e.abrupt("return",null);case 14:return console.log(r),a=null,i=this._cidToHex(r),e.prev=17,e.next=20,this.contract.methods.setRoot(i).send({from:f});case 20:a=e.sent,e.next=27;break;case 23:return e.prev=23,e.t0=e["catch"](17),console.log(e.t0),e.abrupt("return",null);case 27:return e.abrupt("return",a);case 28:case"end":return e.stop()}},e,this,[[17,23]])}));function t(t){return e.apply(this,arguments)}return t}()},{key:"execute",value:function(e){var t=this;return new Qe.a(function(f,n){var r=new nf(t.store),a=new Ht(e,{fragmentsClient:r}),i=[];a.on("data",function(e){i.push(e)}),a.on("end",function(){f(i)}),a.on("error",function(e){n(e)})})}},{key:"_fetchRoot",value:function(){var e=$e()(Se.a.mark(function e(){var t;return Se.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.contract.methods.root().call();case 2:return t=e.sent,e.abrupt("return",this._rootCIDFromHex(t));case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"_rootCIDFromHex",value:function(e){var t=new ze.a("f"+e.slice(2));return t.toBaseEncodedString()}},{key:"_cidToHex",value:function(e){var t=new ze.a(e),f=t.toBaseEncodedString("base16");return"0x"+f.slice(1)}}]),e}(),sf=[{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"root",outputs:[{name:"",type:"bytes"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[{name:"_owner",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,name:"root",type:"bytes"}],name:"RootUpdated",type:"event"},{constant:!1,inputs:[{name:"_root",type:"bytes"}],name:"setRoot",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}],of=function(){function e(t,f,n){Ce()(this,e),this.ipfs=t,this.web3=f,this.registry=n,this.graphManagers={},this.emptyGraphCid="zdpuAmKRXTRNSgwSgXqPDP2FuxVeduNMtM113oGDeUDEoKuA1",this.emptyObjCid="zdpuAyTBnYSugBZhqJuLsNpzjmAjSmxDqBbtAqXMtsvxiN2v3",this.zeroAddr="0x0000000000000000000000000000000000000000"}return je()(e,[{key:"init",value:function(){var e=$e()(Se.a.mark(function e(){return Se.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getGraphManager("default");case 2:this.graphManagers.default=e.sent;case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getGraphManager",value:function(){var e=$e()(Se.a.mark(function e(t){var f,n,r,a;return Se.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!(t in this.graphManagers)){e.next=2;break}return e.abrupt("return",this.graphManagers[t]);case 2:return f=this.web3.utils.asciiToHex(t),e.next=5,this.registry.methods.contracts(f).call();case 5:if(n=e.sent,n!==this.zeroAddr){e.next=8;break}return e.abrupt("return",null);case 8:return r=new this.web3.eth.Contract(sf,n),a=new af(this.ipfs,this.web3,r),this.graphManagers[t]=a,e.next=13,a.init();case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"newGraphManager",value:function(){var e=$e()(Se.a.mark(function e(t){var f,n,r,a,i,s,o;return Se.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getGraphManager(t);case 2:if(f=e.sent,null===f){e.next=5;break}return e.abrupt("return",f);case 5:return e.next=7,this.web3.eth.getCoinbase();case 7:return n=e.sent,r=this.web3.utils.asciiToHex(t),a=void 0,e.prev=10,e.next=13,this.registry.methods.newGraphManager(r).estimateGas({from:n});case 13:return i=e.sent,e.next=16,this.registry.methods.newGraphManager(r).send({from:n,gas:i});case 16:a=e.sent,e.next=23;break;case 19:return e.prev=19,e.t0=e["catch"](10),console.log(e.t0),e.abrupt("return",null);case 23:return s=a.events.NewGraphManager.returnValues.addr,o=new this.web3.eth.Contract(sf,s),f=new af(this.ipfs,this.web3,o),this.graphManagers[t]=f,e.next=29,f.init();case 29:return e.abrupt("return",f);case 30:case"end":return e.stop()}},e,this,[[10,19]])}));function t(t){return e.apply(this,arguments)}return t}()},{key:"addTriples",value:function(){var e=$e()(Se.a.mark(function e(t){var f,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return Se.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.log(n),e.next=3,this.getGraphManager(n);case 3:if(f=e.sent,null!==f){e.next=7;break}return console.log("Graph",f,"not found"),e.abrupt("return",null);case 7:return e.abrupt("return",f.addTriples(t));case 8:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"execute",value:function(){var e=$e()(Se.a.mark(function e(t){var f,n,r,a,i;return Se.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(f="default",n=new Xe["Parser"],r=n.parse(t),!("from"in r)){e.next=10;break}if(0!==r.from.default.length){e.next=6;break}throw new Error("Invalid from in query");case 6:if(a=r.from.default[0],a.startsWith("openknowledge:")){e.next=9;break}throw new Error("Only from clauses with openknowledge scheme are allowed");case 9:f=a.substr("openknowledge:".length);case 10:return e.next=12,this.getGraphManager(f);case 12:if(i=e.sent,null!==i){e.next=16;break}return console.log("Graph",i,"not found"),e.abrupt("return",null);case 16:return e.abrupt("return",i.execute(t));case 17:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),cf=of,uf=f("uXea");const pf=se()("/ip4/127.0.0.1/tcp/5001"),lf=new ce.a(new ce.a.providers.WebsocketProvider("ws://localhost:8545")),df=uf.networks["dev"].address,yf=uf.abi,bf=new lf.eth.Contract(yf,df),hf=new cf(pf,lf,bf);hf.init().then(async()=>{n["default"].config.productionTip=!1,n["default"].use(r["a"]),n["default"].use(i.a);const e=[{path:"/query",component:Q,props:{ok:hf}},{path:"/publish",component:Y,props:{ok:hf}},{path:"/graph",component:ae,props:{ok:hf}},{path:"/",component:Q,props:{ok:hf}}],t=new r["a"]({routes:e});new n["default"]({render:e=>e(_),router:t}).$mount("#app")})},ZL7j:function(e,t,f){"use strict";var n=f("EDI0"),r=f.n(n);r.a},gZZf:function(e,t,f){"use strict";var n=f("urmy"),r=f.n(n);r.a},uXea:function(e){e.exports={contractName:"GraphRegistry",abi:[{constant:!0,inputs:[{name:"",type:"bytes32"}],name:"contracts",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,name:"addr",type:"address"}],name:"NewGraphManager",type:"event"},{constant:!1,inputs:[{name:"_name",type:"bytes32"}],name:"newGraphManager",outputs:[{name:"addr",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"function"}],bytecode:"0x608060405234801561001057600080fd5b506100497f64656661756c740000000000000000000000000000000000000000000000000061004f640100000000026401000000009004565b506101e4565b6000806000806000856000191660001916815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff161415156100b157600080fd5b336100ba6101d4565b808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050604051809103906000f08015801561010c573d6000803e3d6000fd5b50905080600080856000191660001916815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055507f3a43c2d98393e7a4ccfed1b6b753aa0402258d75c3c4abf6405c5138b1a4d3de81604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390a180915050919050565b6040516105f180610b0b83390190565b610918806101f36000396000f30060806040526004361061004c576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff168063896c847e14610051578063ec56a373146100c2575b600080fd5b34801561005d57600080fd5b506100806004803603810190808035600019169060200190929190505050610133565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b3480156100ce57600080fd5b506100f160048036038101908080356000191690602001909291905050506102b8565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b6000806000806000856000191660001916815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614151561019557600080fd5b3361019e6102eb565b808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050604051809103906000f0801580156101f0573d6000803e3d6000fd5b50905080600080856000191660001916815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055507f3a43c2d98393e7a4ccfed1b6b753aa0402258d75c3c4abf6405c5138b1a4d3de81604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390a180915050919050565b60006020528060005260406000206000915054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6040516105f1806102fc8339019056006080604052606060405190810160405280602481526020017f017112200d511ee9a3ab4e52e8e2bc40fd2669d9c44b89164107e9898cd9698c81526020017f1506c5aa00000000000000000000000000000000000000000000000000000000815250600190805190602001906100769291906100ec565b5034801561008357600080fd5b506040516020806105f183398101806040528101908080519060200190929190505050806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050610191565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061012d57805160ff191683800117855561015b565b8280016001018555821561015b579182015b8281111561015a57825182559160200191906001019061013f565b5b509050610168919061016c565b5090565b61018e91905b8082111561018a576000816000905550600101610172565b5090565b90565b610451806101a06000396000f300608060405260043610610057576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff168063272d062c1461005c5780638da5cb5b146100c5578063ebf0c7171461011c575b600080fd5b34801561006857600080fd5b506100c3600480360381019080803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091929192905050506101ac565b005b3480156100d157600080fd5b506100da6102bd565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561012857600080fd5b506101316102e2565b6040518080602001828103825283818151815260200191508051906020019080838360005b83811015610171578082015181840152602081019050610156565b50505050905090810190601f16801561019e5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561020757600080fd5b806001908051906020019061021d929190610380565b507fd01f9869648611c090fd2cf20979bdd581b751fff9d5cdcc983e32062ab3d031816040518080602001828103825283818151815260200191508051906020019080838360005b83811015610280578082015181840152602081019050610265565b50505050905090810190601f1680156102ad5780820380516001836020036101000a031916815260200191505b509250505060405180910390a150565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156103785780601f1061034d57610100808354040283529160200191610378565b820191906000526020600020905b81548152906001019060200180831161035b57829003601f168201915b505050505081565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106103c157805160ff19168380011785556103ef565b828001600101855582156103ef579182015b828111156103ee5782518255916020019190600101906103d3565b5b5090506103fc9190610400565b5090565b61042291905b8082111561041e576000816000905550600101610406565b5090565b905600a165627a7a723058201f147095925bf131b0d483e446df94aa1266bc16a36b584cb1aee1225d7b59ab0029a165627a7a72305820e1e576b87c724590b0982f9dd00aa0d6ea92c38933719078464c5ee0ea7d181600296080604052606060405190810160405280602481526020017f017112200d511ee9a3ab4e52e8e2bc40fd2669d9c44b89164107e9898cd9698c81526020017f1506c5aa00000000000000000000000000000000000000000000000000000000815250600190805190602001906100769291906100ec565b5034801561008357600080fd5b506040516020806105f183398101806040528101908080519060200190929190505050806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050610191565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061012d57805160ff191683800117855561015b565b8280016001018555821561015b579182015b8281111561015a57825182559160200191906001019061013f565b5b509050610168919061016c565b5090565b61018e91905b8082111561018a576000816000905550600101610172565b5090565b90565b610451806101a06000396000f300608060405260043610610057576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff168063272d062c1461005c5780638da5cb5b146100c5578063ebf0c7171461011c575b600080fd5b34801561006857600080fd5b506100c3600480360381019080803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091929192905050506101ac565b005b3480156100d157600080fd5b506100da6102bd565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561012857600080fd5b506101316102e2565b6040518080602001828103825283818151815260200191508051906020019080838360005b83811015610171578082015181840152602081019050610156565b50505050905090810190601f16801561019e5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561020757600080fd5b806001908051906020019061021d929190610380565b507fd01f9869648611c090fd2cf20979bdd581b751fff9d5cdcc983e32062ab3d031816040518080602001828103825283818151815260200191508051906020019080838360005b83811015610280578082015181840152602081019050610265565b50505050905090810190601f1680156102ad5780820380516001836020036101000a031916815260200191505b509250505060405180910390a150565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156103785780601f1061034d57610100808354040283529160200191610378565b820191906000526020600020905b81548152906001019060200180831161035b57829003601f168201915b505050505081565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106103c157805160ff19168380011785556103ef565b828001600101855582156103ef579182015b828111156103ee5782518255916020019190600101906103d3565b5b5090506103fc9190610400565b5090565b61042291905b8082111561041e576000816000905550600101610406565b5090565b905600a165627a7a723058201f147095925bf131b0d483e446df94aa1266bc16a36b584cb1aee1225d7b59ab0029",deployedBytecode:"0x60806040526004361061004c576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff168063896c847e14610051578063ec56a373146100c2575b600080fd5b34801561005d57600080fd5b506100806004803603810190808035600019169060200190929190505050610133565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b3480156100ce57600080fd5b506100f160048036038101908080356000191690602001909291905050506102b8565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b6000806000806000856000191660001916815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614151561019557600080fd5b3361019e6102eb565b808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050604051809103906000f0801580156101f0573d6000803e3d6000fd5b50905080600080856000191660001916815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055507f3a43c2d98393e7a4ccfed1b6b753aa0402258d75c3c4abf6405c5138b1a4d3de81604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390a180915050919050565b60006020528060005260406000206000915054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6040516105f1806102fc8339019056006080604052606060405190810160405280602481526020017f017112200d511ee9a3ab4e52e8e2bc40fd2669d9c44b89164107e9898cd9698c81526020017f1506c5aa00000000000000000000000000000000000000000000000000000000815250600190805190602001906100769291906100ec565b5034801561008357600080fd5b506040516020806105f183398101806040528101908080519060200190929190505050806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050610191565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061012d57805160ff191683800117855561015b565b8280016001018555821561015b579182015b8281111561015a57825182559160200191906001019061013f565b5b509050610168919061016c565b5090565b61018e91905b8082111561018a576000816000905550600101610172565b5090565b90565b610451806101a06000396000f300608060405260043610610057576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff168063272d062c1461005c5780638da5cb5b146100c5578063ebf0c7171461011c575b600080fd5b34801561006857600080fd5b506100c3600480360381019080803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091929192905050506101ac565b005b3480156100d157600080fd5b506100da6102bd565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561012857600080fd5b506101316102e2565b6040518080602001828103825283818151815260200191508051906020019080838360005b83811015610171578082015181840152602081019050610156565b50505050905090810190601f16801561019e5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561020757600080fd5b806001908051906020019061021d929190610380565b507fd01f9869648611c090fd2cf20979bdd581b751fff9d5cdcc983e32062ab3d031816040518080602001828103825283818151815260200191508051906020019080838360005b83811015610280578082015181840152602081019050610265565b50505050905090810190601f1680156102ad5780820380516001836020036101000a031916815260200191505b509250505060405180910390a150565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156103785780601f1061034d57610100808354040283529160200191610378565b820191906000526020600020905b81548152906001019060200180831161035b57829003601f168201915b505050505081565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106103c157805160ff19168380011785556103ef565b828001600101855582156103ef579182015b828111156103ee5782518255916020019190600101906103d3565b5b5090506103fc9190610400565b5090565b61042291905b8082111561041e576000816000905550600101610406565b5090565b905600a165627a7a723058201f147095925bf131b0d483e446df94aa1266bc16a36b584cb1aee1225d7b59ab0029a165627a7a72305820e1e576b87c724590b0982f9dd00aa0d6ea92c38933719078464c5ee0ea7d18160029",sourceMap:"56:420:1:-;;;180:58;8:9:-1;5:2;;;30:1;27;20:12;5:2;180:58:1;207:26;;:15;;;:26;;;:::i;:::-;;56:420;;242:232;297:12;354:14;345:1;325:9;:16;335:5;325:16;;;;;;;;;;;;;;;;;;;;;;;;;;;:21;;;317:30;;;;;;;;388:10;371:28;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;371:28:1;354:45;;424:1;405:9;:16;415:5;405:16;;;;;;;;;;;;;;;;;;:20;;;;;;;;;;;;;;;;;;436:18;452:1;436:18;;;;;;;;;;;;;;;;;;;;;;468:1;461:8;;242:232;;;;:::o;56:420::-;;;;;;;;;;:::o;:::-;;;;;;;",deployedSourceMap:"56:420:1:-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;242:232;;8:9:-1;5:2;;;30:1;27;20:12;5:2;242:232:1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;131:44;;8:9:-1;5:2;;;30:1;27;20:12;5:2;131:44:1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;242:232;297:12;354:14;345:1;325:9;:16;335:5;325:16;;;;;;;;;;;;;;;;;;;;;;;;;;;:21;;;317:30;;;;;;;;388:10;371:28;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;371:28:1;354:45;;424:1;405:9;:16;415:5;405:16;;;;;;;;;;;;;;;;;;:20;;;;;;;;;;;;;;;;;;436:18;452:1;436:18;;;;;;;;;;;;;;;;;;;;;;468:1;461:8;;242:232;;;;:::o;131:44::-;;;;;;;;;;;;;;;;;;;;;;:::o;56:420::-;;;;;;;;;;:::o",source:"pragma solidity ^0.4.23;\n\nimport \"./GraphManager.sol\";\n\ncontract GraphRegistry {\n  event NewGraphManager(\n    address addr\n  );\n\n  mapping(bytes32 => address) public contracts;\n\n  constructor() public {\n    newGraphManager('default');\n  }\n\n  function newGraphManager(bytes32 _name) public returns(address addr) {\n    require(contracts[_name] == 0);\n\n    GraphManager g = new GraphManager(msg.sender);\n    contracts[_name] = g;\n    emit NewGraphManager(g);\n\n    return g;\n  }\n}\n",sourcePath:"/data/home/s1na/dev/js/open-knowledge/contracts/GraphRegistry.sol",ast:{absolutePath:"/data/home/s1na/dev/js/open-knowledge/contracts/GraphRegistry.sol",exportedSymbols:{GraphRegistry:[104]},id:105,nodeType:"SourceUnit",nodes:[{id:50,literals:["solidity","^","0.4",".23"],nodeType:"PragmaDirective",src:"0:24:1"},{absolutePath:"/data/home/s1na/dev/js/open-knowledge/contracts/GraphManager.sol",file:"./GraphManager.sol",id:51,nodeType:"ImportDirective",scope:105,sourceUnit:49,src:"26:28:1",symbolAliases:[],unitAlias:""},{baseContracts:[],contractDependencies:[48],contractKind:"contract",documentation:null,fullyImplemented:!0,id:104,linearizedBaseContracts:[104],name:"GraphRegistry",nodeType:"ContractDefinition",nodes:[{anonymous:!1,documentation:null,id:55,name:"NewGraphManager",nodeType:"EventDefinition",parameters:{id:54,nodeType:"ParameterList",parameters:[{constant:!1,id:53,indexed:!1,name:"addr",nodeType:"VariableDeclaration",scope:55,src:"110:12:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:52,name:"address",nodeType:"ElementaryTypeName",src:"110:7:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"104:22:1"},src:"83:44:1"},{constant:!1,id:59,name:"contracts",nodeType:"VariableDeclaration",scope:104,src:"131:44:1",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_address_$",typeString:"mapping(bytes32 => address)"},typeName:{id:58,keyType:{id:56,name:"bytes32",nodeType:"ElementaryTypeName",src:"139:7:1",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"Mapping",src:"131:27:1",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_address_$",typeString:"mapping(bytes32 => address)"},valueType:{id:57,name:"address",nodeType:"ElementaryTypeName",src:"150:7:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}},value:null,visibility:"public"},{body:{id:66,nodeType:"Block",src:"201:37:1",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,hexValue:"64656661756c74",id:63,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"223:9:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_cfee7c08a98f4b565d124c7e4e28acc52e1bc780e3887db0a02a7d2d5bc66728",typeString:'literal_string "default"'},value:"default"}],expression:{argumentTypes:[{typeIdentifier:"t_stringliteral_cfee7c08a98f4b565d124c7e4e28acc52e1bc780e3887db0a02a7d2d5bc66728",typeString:'literal_string "default"'}],id:62,name:"newGraphManager",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:103,src:"207:15:1",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_bytes32_$returns$_t_address_$",typeString:"function (bytes32) returns (address)"}},id:64,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"207:26:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:65,nodeType:"ExpressionStatement",src:"207:26:1"}]},documentation:null,id:67,implemented:!0,isConstructor:!0,isDeclaredConst:!1,modifiers:[],name:"",nodeType:"FunctionDefinition",parameters:{id:60,nodeType:"ParameterList",parameters:[],src:"191:2:1"},payable:!1,returnParameters:{id:61,nodeType:"ParameterList",parameters:[],src:"201:0:1"},scope:104,src:"180:58:1",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:{id:102,nodeType:"Block",src:"311:163:1",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_address",typeString:"address"},id:79,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:75,name:"contracts",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:59,src:"325:9:1",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_address_$",typeString:"mapping(bytes32 => address)"}},id:77,indexExpression:{argumentTypes:null,id:76,name:"_name",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:69,src:"335:5:1",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"325:16:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,hexValue:"30",id:78,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"345:1:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"325:21:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"}],id:74,name:"require",nodeType:"Identifier",overloadedDeclarations:[179,180],referencedDeclaration:179,src:"317:7:1",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$returns$__$",typeString:"function (bool) pure"}},id:80,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"317:30:1",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:81,nodeType:"ExpressionStatement",src:"317:30:1"},{assignments:[83],declarations:[{constant:!1,id:83,name:"g",nodeType:"VariableDeclaration",scope:103,src:"354:14:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_GraphManager_$48",typeString:"contract GraphManager"},typeName:{contractScope:null,id:82,name:"GraphManager",nodeType:"UserDefinedTypeName",referencedDeclaration:48,src:"354:12:1",typeDescriptions:{typeIdentifier:"t_contract$_GraphManager_$48",typeString:"contract GraphManager"}},value:null,visibility:"internal"}],id:89,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:86,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:176,src:"388:3:1",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:87,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"388:10:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:85,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"NewExpression",src:"371:16:1",typeDescriptions:{typeIdentifier:"t_function_creation_nonpayable$_t_address_$returns$_t_contract$_GraphManager_$48_$",typeString:"function (address) returns (contract GraphManager)"},typeName:{contractScope:null,id:84,name:"GraphManager",nodeType:"UserDefinedTypeName",referencedDeclaration:48,src:"375:12:1",typeDescriptions:{typeIdentifier:"t_contract$_GraphManager_$48",typeString:"contract GraphManager"}}},id:88,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"371:28:1",typeDescriptions:{typeIdentifier:"t_contract$_GraphManager_$48",typeString:"contract GraphManager"}},nodeType:"VariableDeclarationStatement",src:"354:45:1"},{expression:{argumentTypes:null,id:94,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:90,name:"contracts",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:59,src:"405:9:1",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_address_$",typeString:"mapping(bytes32 => address)"}},id:92,indexExpression:{argumentTypes:null,id:91,name:"_name",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:69,src:"415:5:1",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,nodeType:"IndexAccess",src:"405:16:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:93,name:"g",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:83,src:"424:1:1",typeDescriptions:{typeIdentifier:"t_contract$_GraphManager_$48",typeString:"contract GraphManager"}},src:"405:20:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:95,nodeType:"ExpressionStatement",src:"405:20:1"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:97,name:"g",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:83,src:"452:1:1",typeDescriptions:{typeIdentifier:"t_contract$_GraphManager_$48",typeString:"contract GraphManager"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_GraphManager_$48",typeString:"contract GraphManager"}],id:96,name:"NewGraphManager",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:55,src:"436:15:1",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_address_$returns$__$",typeString:"function (address)"}},id:98,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"436:18:1",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:99,nodeType:"EmitStatement",src:"431:23:1"},{expression:{argumentTypes:null,id:100,name:"g",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:83,src:"468:1:1",typeDescriptions:{typeIdentifier:"t_contract$_GraphManager_$48",typeString:"contract GraphManager"}},functionReturnParameters:73,id:101,nodeType:"Return",src:"461:8:1"}]},documentation:null,id:103,implemented:!0,isConstructor:!1,isDeclaredConst:!1,modifiers:[],name:"newGraphManager",nodeType:"FunctionDefinition",parameters:{id:70,nodeType:"ParameterList",parameters:[{constant:!1,id:69,name:"_name",nodeType:"VariableDeclaration",scope:103,src:"267:13:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:68,name:"bytes32",nodeType:"ElementaryTypeName",src:"267:7:1",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"}],src:"266:15:1"},payable:!1,returnParameters:{id:73,nodeType:"ParameterList",parameters:[{constant:!1,id:72,name:"addr",nodeType:"VariableDeclaration",scope:103,src:"297:12:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:71,name:"address",nodeType:"ElementaryTypeName",src:"297:7:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"296:14:1"},scope:104,src:"242:232:1",stateMutability:"nonpayable",superFunction:null,visibility:"public"}],scope:105,src:"56:420:1"}],src:"0:477:1"},legacyAST:{absolutePath:"/data/home/s1na/dev/js/open-knowledge/contracts/GraphRegistry.sol",exportedSymbols:{GraphRegistry:[104]},id:105,nodeType:"SourceUnit",nodes:[{id:50,literals:["solidity","^","0.4",".23"],nodeType:"PragmaDirective",src:"0:24:1"},{absolutePath:"/data/home/s1na/dev/js/open-knowledge/contracts/GraphManager.sol",file:"./GraphManager.sol",id:51,nodeType:"ImportDirective",scope:105,sourceUnit:49,src:"26:28:1",symbolAliases:[],unitAlias:""},{baseContracts:[],contractDependencies:[48],contractKind:"contract",documentation:null,fullyImplemented:!0,id:104,linearizedBaseContracts:[104],name:"GraphRegistry",nodeType:"ContractDefinition",nodes:[{anonymous:!1,documentation:null,id:55,name:"NewGraphManager",nodeType:"EventDefinition",parameters:{id:54,nodeType:"ParameterList",parameters:[{constant:!1,id:53,indexed:!1,name:"addr",nodeType:"VariableDeclaration",scope:55,src:"110:12:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:52,name:"address",nodeType:"ElementaryTypeName",src:"110:7:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"104:22:1"},src:"83:44:1"},{constant:!1,id:59,name:"contracts",nodeType:"VariableDeclaration",scope:104,src:"131:44:1",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_address_$",typeString:"mapping(bytes32 => address)"},typeName:{id:58,keyType:{id:56,name:"bytes32",nodeType:"ElementaryTypeName",src:"139:7:1",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"Mapping",src:"131:27:1",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_address_$",typeString:"mapping(bytes32 => address)"},valueType:{id:57,name:"address",nodeType:"ElementaryTypeName",src:"150:7:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}},value:null,visibility:"public"},{body:{id:66,nodeType:"Block",src:"201:37:1",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,hexValue:"64656661756c74",id:63,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"223:9:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_cfee7c08a98f4b565d124c7e4e28acc52e1bc780e3887db0a02a7d2d5bc66728",typeString:'literal_string "default"'},value:"default"}],expression:{argumentTypes:[{typeIdentifier:"t_stringliteral_cfee7c08a98f4b565d124c7e4e28acc52e1bc780e3887db0a02a7d2d5bc66728",typeString:'literal_string "default"'}],id:62,name:"newGraphManager",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:103,src:"207:15:1",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_bytes32_$returns$_t_address_$",typeString:"function (bytes32) returns (address)"}},id:64,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"207:26:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:65,nodeType:"ExpressionStatement",src:"207:26:1"}]},documentation:null,id:67,implemented:!0,isConstructor:!0,isDeclaredConst:!1,modifiers:[],name:"",nodeType:"FunctionDefinition",parameters:{id:60,nodeType:"ParameterList",parameters:[],src:"191:2:1"},payable:!1,returnParameters:{id:61,nodeType:"ParameterList",parameters:[],src:"201:0:1"},scope:104,src:"180:58:1",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:{id:102,nodeType:"Block",src:"311:163:1",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_address",typeString:"address"},id:79,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:75,name:"contracts",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:59,src:"325:9:1",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_address_$",typeString:"mapping(bytes32 => address)"}},id:77,indexExpression:{argumentTypes:null,id:76,name:"_name",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:69,src:"335:5:1",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"325:16:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,hexValue:"30",id:78,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"345:1:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"325:21:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"}],id:74,name:"require",nodeType:"Identifier",overloadedDeclarations:[179,180],referencedDeclaration:179,src:"317:7:1",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$returns$__$",typeString:"function (bool) pure"}},id:80,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"317:30:1",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:81,nodeType:"ExpressionStatement",src:"317:30:1"},{assignments:[83],declarations:[{constant:!1,id:83,name:"g",nodeType:"VariableDeclaration",scope:103,src:"354:14:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_GraphManager_$48",typeString:"contract GraphManager"},typeName:{contractScope:null,id:82,name:"GraphManager",nodeType:"UserDefinedTypeName",referencedDeclaration:48,src:"354:12:1",typeDescriptions:{typeIdentifier:"t_contract$_GraphManager_$48",typeString:"contract GraphManager"}},value:null,visibility:"internal"}],id:89,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:86,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:176,src:"388:3:1",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:87,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"388:10:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:85,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"NewExpression",src:"371:16:1",typeDescriptions:{typeIdentifier:"t_function_creation_nonpayable$_t_address_$returns$_t_contract$_GraphManager_$48_$",typeString:"function (address) returns (contract GraphManager)"},typeName:{contractScope:null,id:84,name:"GraphManager",nodeType:"UserDefinedTypeName",referencedDeclaration:48,src:"375:12:1",typeDescriptions:{typeIdentifier:"t_contract$_GraphManager_$48",typeString:"contract GraphManager"}}},id:88,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"371:28:1",typeDescriptions:{typeIdentifier:"t_contract$_GraphManager_$48",typeString:"contract GraphManager"}},nodeType:"VariableDeclarationStatement",src:"354:45:1"},{expression:{argumentTypes:null,id:94,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:90,name:"contracts",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:59,src:"405:9:1",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_address_$",typeString:"mapping(bytes32 => address)"}},id:92,indexExpression:{argumentTypes:null,id:91,name:"_name",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:69,src:"415:5:1",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,nodeType:"IndexAccess",src:"405:16:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:93,name:"g",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:83,src:"424:1:1",typeDescriptions:{typeIdentifier:"t_contract$_GraphManager_$48",typeString:"contract GraphManager"}},src:"405:20:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:95,nodeType:"ExpressionStatement",src:"405:20:1"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:97,name:"g",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:83,src:"452:1:1",typeDescriptions:{typeIdentifier:"t_contract$_GraphManager_$48",typeString:"contract GraphManager"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_GraphManager_$48",typeString:"contract GraphManager"}],id:96,name:"NewGraphManager",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:55,src:"436:15:1",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_address_$returns$__$",typeString:"function (address)"}},id:98,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"436:18:1",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:99,nodeType:"EmitStatement",src:"431:23:1"},{expression:{argumentTypes:null,id:100,name:"g",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:83,src:"468:1:1",typeDescriptions:{typeIdentifier:"t_contract$_GraphManager_$48",typeString:"contract GraphManager"}},functionReturnParameters:73,id:101,nodeType:"Return",src:"461:8:1"}]},documentation:null,id:103,implemented:!0,isConstructor:!1,isDeclaredConst:!1,modifiers:[],name:"newGraphManager",nodeType:"FunctionDefinition",parameters:{id:70,nodeType:"ParameterList",parameters:[{constant:!1,id:69,name:"_name",nodeType:"VariableDeclaration",scope:103,src:"267:13:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:68,name:"bytes32",nodeType:"ElementaryTypeName",src:"267:7:1",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"}],src:"266:15:1"},payable:!1,returnParameters:{id:73,nodeType:"ParameterList",parameters:[{constant:!1,id:72,name:"addr",nodeType:"VariableDeclaration",scope:103,src:"297:12:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:71,name:"address",nodeType:"ElementaryTypeName",src:"297:7:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"296:14:1"},scope:104,src:"242:232:1",stateMutability:"nonpayable",superFunction:null,visibility:"public"}],scope:105,src:"56:420:1"}],src:"0:477:1"},compiler:{name:"solc",version:"0.4.24+commit.e67f0147.Emscripten.clang"},networks:{dev:{events:{},links:{},address:"0x054ab15460d9d3af481570b65bee12c0542ac8f2",transactionHash:"0x80a99b644349efc5b87fe029a80622cc93f437b8344c9877258c303b05fe4a33"}},schemaVersion:"2.0.0",updatedAt:"2018-06-12T19:13:49.856Z"}},urmy:function(e,t,f){}});
//# sourceMappingURL=app.3902651d.js.map